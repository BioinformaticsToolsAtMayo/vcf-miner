<!doctype html>
<html lang="us">
<head>
    <link rel="shortcut icon" href="img/favicon.ico">

	<meta charset="utf-8">
	<title>VCF-Miner</title>

    <link rel="stylesheet" type="text/css" href="jquery.layout-1.3.0/css/layout-default-latest.css">
    <link rel="stylesheet" type="text/css" href="jquery.layout-1.3.0/css/complex.css">
    <link rel="stylesheet" type="text/css" href="bootstrap-2.3.2/css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="DataTables-1.9.4/media/css/DT_bootstrap.css">
    <link rel="stylesheet" href="chosen-0.10.0/chosen.css">
    <link rel="stylesheet" type="text/css" href="bootstrap-modal-2.1/css/bootstrap-modal.css">
    <link rel="stylesheet" type="text/css" href="Acquisio-bootstrap-dropdown-checkbox-5f2ad8d/css/bootstrap-dropdown-checkbox.css">
    <link rel="stylesheet" type="text/css" href="font-awesome-4.0.3/css/font-awesome.css">
    <!--<link rel="stylesheet" type="text/css" href="typeahead-0.9.3/typeahead.css">-->
    <link rel="stylesheet" type="text/css" href="typeahead-0.9.3/typeahead.js-bootstrap.css">

    <style>
        /*workaround for navbar overlapping site by 40 pixels */
        /*body { padding-top: 40px; }*/

        body .wide-modal {
            /* new custom width */
            width: 1024px;
            /* must be half of the width, minus scrollbar on the left (30px) */
            margin-left: -512px;
        }

        body .modal-256wide {
            /* new custom width */
            width: 256px;
            /* must be half of the width, minus scrollbar on the left (30px) */
            margin-left: -128px;
        }

        body .modal-350wide {
            /* new custom width */
            width: 350px;
            /* must be half of the width, minus scrollbar on the left (30px) */
            margin-left: -175px;
        }

        body .modal-800wide {
            /* new custom width */
            width: 800px;
            /* must be half of the width, minus scrollbar on the left (30px) */
            margin-left: -400px;
        }

        body .modal-600wide {
            /* new custom width */
            width: 600px;
            /* must be half of the width, minus scrollbar on the left (30px) */
            margin-left: -300px;
        }

        /* override jquery layout */
        .ui-layout-west{
            z-index: 50 !important;
            overflow: auto !important;
        }

        .selectwidth100Percent
        {
            width:100% !important;
        }

        #watermark{
            background-image: url(img/vcf-miner.png);
            background-repeat:no-repeat;
            width: 535px;
            height: 600px;
        }

        .ellipsis{
            width: 300px;
            text-overflow: ellipsis;
            white-space: nowrap;
            overflow: hidden;
        }

        .vertical-spacer {  margin-top: 40px; }
    </style>

    <!-- underscorejs templates -->

    <!-- the workspace table -->
    <script id="workspace-table-template" type="text/html">
        <table id="workspace_table" class="table table-striped table-bordered" border="0" cellpadding="0" cellspacing="0">
            <thead>
            <tr>
                <th>VCF File</th>
                <th>Status</th>
                <th>Date</th>
                <th></th>
            </tr>
            </thead>

            <!-- want to insert collection items, here -->
            <tbody></tbody>
        </table>
    </script>

    <script id="search-name-template" type="text/template">
        <div class="dropdown pull-left">
            <div id="search_rename_div" class="hide">
                <input type="text" class="input-large">
            </div>
            <div id="search_name_div">
                <a class="dropdown-toggle lead" data-toggle="dropdown" href="#"><%=name%></a><% if(!saved){%> <sup class="text-error">(Unsaved Changes)</sup><%}%>
                <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                    <li title="Start over with a new Search" role="presentation"><a class="searchNew" role="menuitem" tabindex="-1"><i class="fa fa-file-o"></i> New</a></li>
                    <li title="Change the Search name" role="presentation"><a class="searchNameChange" role="menuitem" tabindex="-1"><i class="fa fa-pencil"></i> Rename</a></li>
                    <li title="Save this Search" role="presentation"><a class="searchSave" role="menuitem" tabindex="-1"><i class="fa fa-save"></i> Save</a></li>
                    <li title="Delete this Search" role="presentation"><a class="searchDelete" role="menuitem" tabindex="-1"><i class="icon-remove"></i> Delete</a></li>
                    <li title="Open a previously saved Search" role="presentation"><a class="searchConfigure" role="menuitem" tabindex="-1"><i class="fa fa-folder-open-o"></i> Open a saved Search</a></li>
                    <li role="presentation" class="divider"></li>
                    <li title="Export this Search to a file" role="presentation"><a class="searchExport" role="menuitem" tabindex="-1"><i class="icon-download"></i> Export to a file</a></li>
                    <li title="Import a previously exported Search file" role="presentation"><a class="searchImport" role="menuitem" tabindex="-1"><i class="icon-upload"></i> Import from a file</a></li>
                </ul>
            </div>
        </div>
    </script>

    <!-- single row in the search table -->
    <script id="search-row-template" type="text/template">
        <span class="label"><td><%=name%></td></span>
        <span class="label"><td><%=user%></td></span>
        <span class="label"><td><%=getDateString(timestamp)%></td></span>
        <td><button title="Open this Search" type="button" class="btn open">Open</button></td>
    </script>

    <!-- the search table -->
    <script id="search-table-template" type="text/html">
        <table class="table">
            <thead>
            <tr>
                <th>Name</th>
                <th>User</th>
                <th>Last Saved</th>
                <th></th>
            </tr>
            </thead>

            <!-- want to insert collection items, here -->
            <tbody></tbody>
        </table>
    </script>

    <!-- single row in the search filter table -->
    <script id="search-filter-row-template" type="text/template">
        <span class="label"><td><%=displayName%></td></span>
        <span class="label"><td><%=displayOperator%></td></span>
        <span id="<%=id%>_display_value_label" class="label"><td><%=displayValue%></td></span>
        <td><span class="badge badge-info" id="<%=id%>_num_matches_label"><%=numMatches%></span></td>
        <td><button title="Remove filter from your search" type="button" class="btn btn-mini remove" id="<%=id%>_remove_button" style="<% if(!removable){%> display: none <%}%>"><i class="icon-remove"></i></button></td>

    </script>

    <!-- the search filter table -->
    <script id="search-filter-table-template" type="text/html">
        <table class="table">
            <thead>
                <tr>
                    <th colspan="3">Filter</th>
                    <th>Variants</th>
                    <th></th>
                </tr>
            </thead>

            <!-- want to insert collection items, here -->
            <tbody></tbody>
        </table>
    </script>

    <script id="config-variant-table-col-template" type="text/template">
        <tr id='<%=id%>_col_row' type='data_row'>
            <td><input data-col-id='<%=id%>' class="input-mini toggle-visibility" type="checkbox" checked="true"/></td>
            <span class="label"><td><%=displayName%></td></span>
            <span class="label"><td><%=description%></td></span>
        </tr>
    </script>

    <script id="info-message-template" type="text/template">
        <div class="alert alert-info">
            <button type="button" class="close" data-dismiss="alert">&times;</button>
            <%=message%>
        </div>
    </script>
    <script id="warning-message-template" type="text/template">
        <div class="alert alert-block">
            <button type="button" class="close" data-dismiss="alert">&times;</button>
            <h4>Warning!</h4>
            <%=message%>
        </div>
    </script>
    <script id="warning-popover-template" type="text/template">
        <div class="alert alert-block">
            <h4>Warning!</h4>
            <%=message%>
        </div>
    </script>
    <script id="error-message-template" type="text/template">
        <div class="alert alert-error">
            <button type="button" class="close" data-dismiss="alert">&times;</button>
            <h4>Error</h4>
            <%=message%>
        </div>
    </script>

    <script src="jquery-1.10.1/jquery-1.10.1.js"></script>
    <script src="jquery-ui-1.10.3/ui/jquery-ui.js"></script>
    <script src="jquery.layout-1.3.0/jquery.layout-latest.js"></script>
    <script src="jquery-validation-1.11.1/jquery.validate.js"></script>
    <script src="jquery-validation-1.11.1/additional-methods.js"></script>
    <script src="jquery.base64-0.0.2/jquery.base64.js"></script>
    <script src="bootstrap-2.3.2/js/bootstrap.js"></script>
    <script src="typeahead-0.9.3/typeahead.js"></script>
    <script src="DataTables-1.9.4/media/js/jquery.dataTables.js"></script>
    <script src="DataTables-1.9.4/media/js/DT_bootstrap.js"></script>
    <script src="DataTables-ColReorderWithResize-1.0.7/ColReorderWithResize.js"></script>
    <script src="underscore-1.4.4/underscore.js"></script>
    <script src="backbone-1.1.2/backbone.js"></script>
    <script src="backbone.marionette-1.7.0/backbone.marionette.js"></script>
    <script src="backbone.localStorage-1.1.5/backbone.localStorage-min.js"></script>
    <script src="bootstrap-modal-2.1/js/bootstrap-modalmanager.js"></script>
    <script src="bootstrap-modal-2.1/js/bootstrap-modal.js"></script>
    <script src="bootstrap-filestyle-1.0.3/js/bootstrap-filestyle.min.js"></script>
    <script src="moment-2.4.0/moment.min.js"></script>
    <script src="Acquisio-bootstrap-dropdown-checkbox-5f2ad8d/js/bootstrap-dropdown-checkbox.js"></script>

    <script src="js/models/VCFDataField.js" type="text/javascript"></script>
    <script src="js/collections/VCFDataFieldList.js" type="text/javascript"></script>

    <script src="js/models/DatabaseIndex.js" type="text/javascript"></script>
    <script src="js/collections/DatabaseIndexList.js" type="text/javascript"></script>
    <script src="js/DatabaseIndexController.js" type="text/javascript"></script>
    <script src="js/views/IndexTableView.js" type="text/javascript"></script>
    <script src="js/views/IndexTableRowView.js" type="text/javascript"></script>
    <script src="js/models/IndexesStatus.js" type="text/javascript"></script>
    <script src="js/views/IndexesStatusView.js" type="text/javascript"></script>

    <script src="js/models/Workspace.js" type="text/javascript"></script>
    <script src="js/collections/WorkspaceList.js" type="text/javascript"></script>

    <script src="js/views/IndexTableView.js" type="text/javascript"></script>
    <script src="js/views/IndexTableRowView.js" type="text/javascript"></script>

    <script src="js/models/Filter.js" type="text/javascript"></script>
    <script src="js/collections/FilterList.js" type="text/javascript"></script>

    <script src="js/models/SampleGroup.js" type="text/javascript"></script>
    <script src="js/collections/SampleGroupList.js" type="text/javascript"></script>
    <script src="js/CreateGroupDialog.js" type="text/javascript"></script>
    <script src="js/views/GroupListView.js" type="text/javascript"></script>


    <script src="js/SampleFilterTab.js" type="text/javascript"></script>
    <script src="js/InfoFilterTab.js" type="text/javascript"></script>

    <script src="js/AddFilterDialog.js" type="text/javascript"></script>
    <script src="js/ConfirmDialog.js" type="text/javascript"></script>

    <script src="js/models/VariantTableColumn.js" type="text/javascript"></script>
    <script src="js/models/VariantTableRow.js" type="text/javascript"></script>
    <script src="js/collections/VariantTableColumnList.js" type="text/javascript"></script>
    <script src="js/collections/VariantTableRowList.js" type="text/javascript"></script>
    <script src="js/views/VariantTableConfigColumnsView.js" type="text/javascript"></script>
    <script src="js/views/VariantTableColumnView.js" type="text/javascript"></script>
    <script src="js/views/VariantTableDataView.js" type="text/javascript"></script>

    <script src="js/mongo_util.js" type="text/javascript"></script>
    <script src="js/customized-bootstrap-dropdown-checkbox.js" type="text/javascript"></script>

    <!-- Marionette Application -->
    <script src="js/models/Search.js"></script>
    <script src="js/collections/SearchList.js"></script>
    <script src="js/views/SearchTableRowView.js"></script>
    <script src="js/views/SearchTableView.js"></script>
    <script src="js/views/SearchFilterRowView.js"></script>
    <script src="js/views/SearchFilterTableView.js"></script>
    <script src="js/views/SearchNameView.js"></script>
    <script src="js/views/WorkspaceTableRowView.js"></script>
    <script src="js/views/WorkspaceTableView.js"></script>
    <script src="js/controllers/SearchController.js"></script>
    <script src="js/controllers/SettingsController.js"></script>
    <script src="js/controllers/VariantDataController.js"></script>
    <script src="js/controllers/WorkspaceController.js"></script>
    <script src="js/MongoApp.js"></script>
    <script type="text/javascript">
        $( document ).ready(function() {

            MongoApp.start();

        });
    </script>
</head>



<body>
<div id="message_area"></div>

<!-- Table Toolbar -->
<div id="table_toolbar" class="btn-group hide">
    <button class="btn" title="Show/Hide Table Columns" id="columns_button"><i class="icon-list-alt"></i> Columns</button>
    <button class="btn" title="Export Table as Tab-Delimited file" id="export_button"><i class="icon-download"></i> Export</button>
</div>

<!-- Modal -->
<div id="confirm_modal" data-backdrop="static" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="confirm_label" aria-hidden="true">
    <div class="modal-header">
        <h3 id="confirm_label"><!-- added by javascript --></h3>
    </div>
    <div class="modal-body">
        <!-- added by javascript -->
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" aria-hidden="true" id="confirm_modal_ok">Ok</button>
        <button class="btn" id="confirm_modal_cancel">Cancel</button>
    </div>
</div>

<!-- Modal -->
<div id="columns_modal" data-backdrop="static" class="modal hide fade wide-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h3 id="myModalLabel">Customize Columns</h3>
    </div>
    <div class="modal-body">
        <div class="pre-scrollable">
            <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered" id="config_columns_table">
                <tr>
                    <td><input class="input-mini toggle-all-visibility" type="checkbox"/></td>
                    <td>Name</td>
                    <td>Description</td>
                </tr>
            </table>
        </div>
    </div>
    <div class="modal-footer">
        <button class="btn" data-dismiss="modal" aria-hidden="true" id="column_dialog_close">Close</button>
    </div>
</div>

<!-- Modal -->
<div id="add_workspace_modal" class="modal hide fade" tabindex="-1" role="dialog"aria-hidden="true">
    <form id="import_vcf_form" action="" class="form-horizontal">
        <div class="modal-header">
            <h3>Import VCF File</h3>
        </div>
        <div class="modal-body">
            <div class="control-group">
                <label class="control-label" for="vcf_file_upload">File</label>
                <div class="controls">
                    <input id="vcf_file_upload" name="vcf_file_upload" type="file" class="filestyle"/>
                </div>
            </div>
            <div class="control-group">
                <label class="control-label" for="vcf_name_field">Name</label>
                <div class="controls">
                    <input type="text" id="vcf_name_field" name="vcf_name_field" placeholder="user defined name">
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="submit" class="btn btn-primary" aria-hidden="true" id="import_workspace_button">Import</button>
            <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
        </div>
    </form>
</div>

<div id="import_search_modal" class="modal hide fade" tabindex="-1" role="dialog"aria-hidden="true">
    <form id="import_search_form" action="" class="form-horizontal">
        <div class="modal-header">
            <h3>Import Search</h3>
        </div>
        <div class="modal-body">
            <div class="control-group">
                <label class="control-label" for="vcf_file_upload">File</label>
                <div class="controls">
                    <input id="search_file_upload" name="search_file_upload" type="file" class="filestyle"/>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="submit" class="btn btn-primary" aria-hidden="true" id="import_search_button">Import</button>
            <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
        </div>
    </form>
</div>


<!-- Modal -->
<div id="searches_modal" class="modal hide fade" tabindex="-1" role="dialog"aria-hidden="true">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h3>Searches</h3>
    </div>
    <div class="modal-body">
        <div class="pre-scrollable" id="searchTableRegion"></div>
    </div>
    <div class="modal-footer">
        <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
    </div>
</div>

<!-- Modal -->
<div id="upload_vcf_progress_modal" data-backdrop="static" class="modal modal-350wide hide fade" tabindex="-1" role="dialog" aria-labelledby="select_vcf_label" aria-hidden="true">
    <div class="modal-header">
        <h3 id="select_vcf_label">Upload Status</h3>
    </div>
    <div class="modal-body">
        <div class="progress progress-striped active">
            <div id="progress" class="bar" style="width: 0%;"></div>
        </div>
    </div>
</div>

<!-- Modal -->
<div id="add_filter_modal" data-backdrop="static" class="modal modal-800wide hide fade" tabindex="-1" role="dialog" aria-labelledby="add_filter_label" aria-hidden="true">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h3 id="add_filter_label">Add Filter</h3>
    </div>
    <div class="modal-body">
        <div class="container-fluid">
            <div class="row-fluid"> <!-- tabs -->
                <div class="span12">
                    <ul class="nav nav-tabs" id="add_filter_tabs">
                        <li class="active"><a href="#tab_content_sample">Sample</a></li>
                        <li><a href="#tab_content_info">Info</a></li>
                    </ul>
                </div>
            </div>
            <div class="row-fluid"> <!-- tab content pane -->
                <div class="span12">
                    <div class="tab-content">
                        <div class="tab-pane active" id="tab_content_sample"> <!-- SAMPLE tab -->
                            <form id="sample_tab_form" action="">
                                <div class="container-fluid" id="pallet_view">
                                    <div class="row-fluid"> <!-- help row -->
                                        <a class="accordion-toggle pull-right" data-toggle="collapse" data-parent="#accordion2" href="#sample_filter_help">
                                            <i class="fa fa-question-circle"></i> Help
                                        </a>
                                    </div>
                                    <div id="sample_filter_help" class="collapse alert-info">
                                        <table>
                                            <tr>
                                                <td><i class="fa fa-info-circle fa-2x"></i></td>
                                                <td><strong>Overview</strong></td>
                                            </tr>
                                            <tr>
                                                <td></td>
                                                <td>
                                                    <p>Filters in this tab are derived from the SAMPLE columns of VCF files.
                                                        The FORMAT column is used to define the information contained within each subsequent genotype column, which consists of a colon separated list of fields.
                                                    </p>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td><i class="fa fa-book fa-2x"></i></td>
                                                <td>
                                                    <strong>Example</strong>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td></td>
                                                <td>
                                                    <p>The FORMAT field GT:GQ:DP indicates that the samples contain information regarding the genotype, genotype quality and read depth for each sample. Let's say each sample has an entry for depth of coverage and there are 3 samples in your VCF. SampleA DP=20, SampleB DP=25, and SampleC DP=10. VCF-miner is capable of querying numeric values such as these. If you apply the MAX DP >=20 filter, the entire row will be returned. If you apply the MIN DP >=20 filter, then the row will NOT be returned because the minimum DP in this row is 10.</p>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td><i class="fa fa-wrench fa-2x"></i></td>
                                                <td>
                                                    <strong>Technical Point</strong>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td></td>
                                                <td>
                                                    <p>For VCF-Miner to recognize arbitrary key:value pairs, there must be properly formatted both in this field and in the Meta-information lines.</p>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                    <div class="row-fluid"> <!-- header row -->
                                        <div class="span6"><h4>Filter</h4></div>
                                        <div class="span6"><h4>Value</h4></div>
                                    </div>
                                    <div class="row-fluid"> <!-- divider -->
                                        <div class="span12"><hr></div>
                                    </div>
                                    <div class="row-fluid">
                                        <div class="span6">
                                            <!-- this dropdown's visibility depends upon the selected sample field -->
                                            <select class="span3" id="sample_field_min_max_list">
                                                <option value='max'>MAX</option>
                                                <option value='min'>MIN</option>
                                            </select>
                                            <select class="span6" id="sample_field_list">
                                                <!-- Dynamically added by javascript -->
                                            </select>
                                            <!-- this dropdown's visibility depends upon the selected sample field -->
                                            <select class="span3" id="sample_field_op_list">
                                                <option value='eq'>=</option>
                                                <option value='gt'>&gt;</option>
                                                <option value='gteq'>&#x2265;</option>
                                                <option value='lt'>&lt;</option>
                                                <option value='lteq'>&#x2264;</option>
                                                <option value='ne'>&#x2260;</option>
                                            </select>
                                        </div>
                                        <div class="span6">
                                            <!-- these are toggled on/off based on the sample_field_list choosen -->
                                            <div class="row-fluid hide" id="sample_value_div">
                                                <input name='sample_filter_value' class='input-mini' value='0'>
                                            </div>
                                            <div class="row-fluid hide" id="group_value_div">
                                                <div class="span12">
                                                    <div class="row-fluid">
                                                        <div class="input-prepend">
                                                            <button id="new_group_button" title="Create a new group of samples" type="button" class="btn"><i class="icon-plus"></i></button>
                                                            <select id="group_list" name="group_list"></select>
                                                        </div>
                                                    </div>
                                                    <div class="row-fluid" id="group_sample_count"></div>
                                                    <div class="row-fluid" id="group_sample_names_list"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="tab-pane" id="tab_content_info"> <!-- info tab -->
                            <form id="info_tab_form" action="">
                                <div class="container-fluid" id="info_filter_table">
                                    <!-- This warning is hidden by default.  javascript will enable if warranted -->
                                    <div class="row-fluid hide" id="no_info_annotation_warning">
                                        <div class="span12 alert">
                                            <button type="button" class="close" data-dismiss="alert">&times;</button>
                                            <table>
                                                <tr>
                                                    <td><i class="fa fa-warning fa-2x"></i></td>
                                                    <td><strong>Missing INFO Annotation</strong></td>
                                                </tr>
                                                <tr>
                                                    <td></td>
                                                    <td>
                                                        <p>No INFO fields were detected.  Double check your original VCF file for the following:</p>
                                                        <ul>
                                                            <li>One or more lines in the VCF file header that are prefixed with ##INFO, 1 per INFO annotation type</li>
                                                            <li>8th column titled INFO containing the INFO annotation data</li>
                                                        </ul>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="row-fluid"> <!-- help row -->
                                        <a class="accordion-toggle pull-right" data-toggle="collapse" data-parent="#accordion2" href="#info_filter_help">
                                            <i class="fa fa-question-circle"></i> Help
                                        </a>
                                    </div>
                                    <div id="info_filter_help" class="collapse alert-info">
                                        <table>
                                            <tr>
                                                <td><i class="fa fa-info-circle fa-2x"></i></td>
                                                <td><strong>Overview</strong></td>
                                            </tr>
                                            <tr>
                                                <td></td>
                                                <td>
                                                    <p>Filters in this tab are derived from the INFO column of VCF files.  Annotations found in this column are variant specific, not sample specific.  For example, the gene name in the info field may be GENE=TP53. No matter what sample has the variant - they would all refer to TP53.</p>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td><i class="fa fa-wrench fa-2x"></i></td>
                                                <td>
                                                    <strong>Technical Point</strong>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td></td>
                                                <td>
                                                    <p>For VCF-Miner to recognize arbitrary key:value pairs, there must be properly formatted both in this field and in the Meta-information lines.</p>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                    <div class="row-fluid"> <!-- header row -->
                                        <div class="span4"><h4>Filter</h4></div>
                                        <div class="span2"></div>
                                        <div class="span6"><h4>Value</h4></div>
                                    </div>
                                    <div class="row-fluid"> <!-- divider -->
                                        <div class="span12"><hr></div>
                                    </div>
                                    <div class="row-fluid">
                                        <div class="span4">
                                            <select class="span12" id="info_field_list">
                                                <!-- Dynamically added by javascript -->
                                            </select>
                                        </div>
                                        <div class="span2">
                                            <select class="span12" id="info_operator_list">
                                                <!-- Dynamically added by javascript -->
                                            </select>
                                        </div>
                                        <div class="span6" id="info_value_div">
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" aria-hidden="true" id="add_filter">Add</button>
        <button class="btn" data-dismiss="modal" aria-hidden="true" id="add_filter_close">Cancel</button>
    </div>
</div>

<!-- Modal -->
<div id="create_group_modal" data-backdrop="static" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="select_vcf_label" aria-hidden="true">
    <form id="create_group_form" action="">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
            <h3>Create Group</h3>
        </div>
        <div class="modal-body">
            <div class="container-fluid">
                <div class="row-fluid control-group">
                    <div class="span3">Group Name:</div>
                    <div class="span9"><input id="group_name_field" name="group_name_field" type="text"></div>
                </div>
                <div class="row-fluid"> <!-- divider -->
                    <div class="span12"><hr></div>
                </div>
                <div class="row-fluid">
                    <div class="span5"> <!-- available samples column -->
                        <div class="row-fluid">
                            <div class="span12">
                                Available Samples
                            </div>
                        </div>
                        <div class="row-fluid">
                            <div class="span12">
                                <select id="available_samples_list" size="15" multiple="multiple" class="span12"></select>
                            </div>
                        </div>
                    </div>
                    <div class="span2"> <!-- button column -->
                        <div class="container-fluid">
                            <div class="row-fluid">
                                <div class="span12"></div>
                            </div>
                            <div class="row-fluid">
                                <div class="span12"></div>
                            </div>
                            <div class="row-fluid">
                                <div class="span12"></div>
                            </div>
                            <div class="row-fluid">
                                <div class="span12"></div>
                            </div>
                            <div class="row-fluid">
                                <div class="span12">
                                    <button type="button" class="btn" id="add_sample_to_group_button"><i class="icon-chevron-right"></i></button>
                                </div>
                            </div>
                            <div class="row-fluid">
                                <div class="span12"></div>
                            </div>
                            <div class="row-fluid">
                                <div class="span12">
                                    <button type="button" class="btn" id="remove_sample_from_group_button"><i class="icon-chevron-left"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="span5"> <!-- group samples column -->
                        <div class="row-fluid">
                            <div class="span12">
                                Group Samples
                            </div>
                        </div>
                        <div class="row-fluid">
                            <div class="span12">
                                <select id="group_samples_list" size="15" multiple="multiple" class="span12"></select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="submit" class="btn btn-primary" aria-hidden="true" id="new_group_apply">Create</button>
            <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
        </div>
    </form>
</div>

<!-- GETTING STARTED -->
<div id="welcome_pane" class="hide">
    <div class="row">
        <div class="span12">
            <div class="row-fluid">
                <div class="span12">
                    <table>
                        <tr>
                            <td>
                                <div class="well">
                                    <h3>Getting started:</h3>
                                    <table>
                                        <tr>
                                            <td>1.</td>
                                            <td><button title="Import a new VCF File into the system" class="btn btn-primary" onclick="$('#add_workspace_modal').modal();">Import</button> a new VCF File</td>
                                        </tr>
                                        <tr>
                                            <td>2.</td>
                                            <td>Load an existing VCF File in the list below</td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td><h3></h3></td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <!--<td><div class="pull-right" id="workspaces_table_div"></div></td>-->
                                            <td><div class="pull-right" id="workspaceRegion"></div></td>
                                        </tr>
                                    </table>
                                </div>
                                <div>
                                    <p><small>The funding was provided by the <a target="_blank" href="http://mayoresearch.mayo.edu/center-for-individualized-medicine/">Center for Individualized Medicine</a> at Mayo Clinic.</small></p>
                                    <p><small><a target="_blank" href="license.html">Terms and Conditions of Use</a></small></p>
                                </div>
                            </td>
                            <td class="pull-right">
                                <div id=watermark></div>
                            </td>
                        </tr>
                        <!--<tr>-->
                            <!--<td>-->
                                <!--<div id="workspaces_table_div"></div>-->
                            <!--</td>-->
                        <!--</tr>-->
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>


<div id="browser_not_supported_pane" class="hide">
    <div class="row-fluid">
        <div class="span2"></div>
        <div class="span8 text-center">
            <h1>Browser not supported</h1>
        </div>
        <div class="span2"></div>
    </div>
    <div class="row-fluid">
        <div class="span3"></div>
    </div>
    <div class="row-fluid">
        <div class="span4"></div>
        <div class="span4">
            <p>Internet Explorer is not supported.  Please use one of the following alternatives:</p>
            <ul>
                <li><a href="https://www.google.com/intl/en/chrome/browser/">Chrome</a></li>
                <li><a href="http://www.mozilla.org/en-US/firefox/new/">Firefox</a></li>
            </ul>
        </div>
        <div class="span4"></div>
    </div>
</div>

<!-- Navigation bar -->
<div class="navbar navbar-inverse navbar-static-top">
    <div class="navbar-inner">
        <div class="nav-collapse collapse">
            <div class="pull-left"><a class="brand">VCF-Miner</a></div>
            <ul id="navbar_tabs" class="nav">
                <li class="active"><a id="home_tab">Home</a></li>
                <li><a id="settings_tab">Advanced</a></li>

                <!-- hidden at the start because no VCF has been loaded yet -->
                <li id="navbar_tab_table" class="hide"><a id="table_tab">SET_BY_JAVASCRIPT</a></li>
            </ul>
        </div>
    </div>
</div>

<div id="getting_started">
    <!-- placeholder-->
    <div id="getting_started_content" class="hero-unit"></div>
</div>

<div id="settings" class="hide">
    <!-- placeholder-->
    <div class="hero-unit">
        <div class="well">
            <h2>General</h2>
            <form id="settings_general_form" class="form-horizontal">
                <div class="control-group">
                    <label class="control-label" for="max_filtered_variants_field">MAX Displayed Variants</label>
                    <div class="controls">
                        <input class="input-mini" name="max_filtered_variants_field" id="max_filtered_variants_field" value="1000">
                    </div>
                </div>
                <div class="control-group">
                    <label class="control-label" for="popover_time_field">Popup Display Time (Seconds)</label>
                    <div class="controls">
                        <input class="input-mini" name="popover_time_field" id="popover_time_field" value="3">
                    </div>
                </div>
                <div class="control-group">
                    <label class="control-label" for="max_filter_values_field">Typeahead Limit</label>
                    <div class="controls">
                        <input class="input-mini" name="max_filter_values_field" id="max_filter_values_field" value="25">
                    </div>
                </div>
            </form>
        </div>
        <div class="well">
            <h2>Indexes</h2>
            <div class='row-fluid checkbox'><label><input type='checkbox' id='show_missing_index_warnings'> Show warnings when adding a Filter on an non-indexed column</label></div>
            <div class="row-fluid">
                <div class="span6" id="indexes_status_div"></div>
            </div>
            <div class="well">
                <h3>General</h3>
                <div class="container-fluid pre-scrollable">
                    <div class="row-fluid">
                        <div class="pull-left" id="general_indexes_table_div"></div>
                    </div>
                </div>
            </div>
            <div class="well">
                <h3>INFO</h3>
                <div class="container-fluid pre-scrollable">
                    <div class="row-fluid">
                        <div class="pull-left" id="info_indexes_table_div"></div>
                    </div>
                </div>
            </div>
            <div class="well">
                <h3>FORMAT</h3>
                <div class="container-fluid pre-scrollable">
                    <div class="row-fluid">
                        <div class="pull-left" id="format_indexes_table_div"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- JQUERY-UI Layout -->
<div id="jquery-ui-container" style="zoom: 1; overflow: hidden; width: auto; height: auto; margin: 0px; position: absolute; top: 40px; bottom: 0px; left: 0px; right: 0px; cursor: auto; " class="ui-layout-container hide">

    <!-- WEST -->
    <div class="ui-layout-west pane pane-west" style="position: absolute; margin: 0px; left: 0px; right: auto; top: 95px; bottom: 0px; height: 458px; z-index: 0; width: 346px; display: block; visibility: visible; ">

        <div class="sidebar-nav">
            <ul class="nav nav-list">
                <div class="nav-header">
                    <div class="row-fluid">
                        <div class="span2 pull-right"><button id="west-closer" title="Hide Search" type="button" class="btn btn-mini"><i class="fa fa-arrow-left"></i> Hide</button></div>
                    </div>
                </div>

                <div>
                    <div id="searchNameRegion"></div>

                    <div id="searchFiltersRegion"></div>

                    <button title="Add Filter to your search" class="btn btn-primary" id="show_add_filter_dialog_button">Add Filter</button>
                </div>
            </ul>
        </div>
    </div>

    <!-- CENTER -->
    <div class="pane ui-layout-center ui-layout-pane ui-layout-pane-center">

        <div id="variantDataRegion" style="padding-left: 35px; padding-right: 10px; padding-top: 10px; padding-bottom: 10px;"></div>

    </div>
</div>

</body>
</html>
