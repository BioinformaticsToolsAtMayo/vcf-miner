<!doctype html>
<html lang="us">
<head>
	<meta charset="utf-8">
	<title>Mongo View</title>

    <link rel="shortcut icon" type="image/ico" href="http://www.datatables.net/favicon.ico" />
    <link rel="stylesheet" type="text/css" href="bootstrap-2.3.2/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="DataTables-1.9.4/media/css/DT_bootstrap.css">
    <link rel="stylesheet" href="chosen-0.10.0/chosen.css" />

    <!-- workaround for navbar overlapping site by 40 pixels -->
    <style>
        body { padding-top: 40px; }
    </style>

    <script src="jquery-ui-1.10.3/jquery-1.9.1.js"></script>
	<script src="jquery-ui-1.10.3/ui/jquery-ui.js"></script>
    <script src="bootstrap-2.3.2/js/bootstrap.min.js"></script>
    <script src="DataTables-1.9.4/media/js/jquery.dataTables.min.js"></script>
    <script src="DataTables-1.9.4/media/js/DT_bootstrap.js"></script>
    <script src="underscore-1.4.4/underscore-min.js"></script>
    <script src="backbone-1.0.0/backbone-min.js"></script>
    <script src="backbone.localStorage-1.1.5/backbone.localStorage-min.js"></script>

    <script src="js/mongo_view.js" type="text/javascript"></script>

    <script id="searched-filter-template" type="text/template">
        <!--<td><button title="Remove from your search" type="button" class="btn-mini"><i class="icon-minus"></i></button></td>-->
        <td></td>
        <td><%- name %> <%- operator %> <%- value %></td>
        <td>?</td>
    </script>
</head>
<body>
<div class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container-fluid">
            <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="brand" href="#">Mongo View</a>
            <img src="img/bull-graphic.png" width="60" height="50">
        </div>
    </div>
</div>
<div class="container-fluid">
    <div class="row-fluid">
        <div class="span3">
            <div class="well sidebar-nav">
                <ul class="nav nav-list">
                    <div class="nav-header"><h4>You Searched For</h4></div>
                    <div id="searched_view">
                        <table class="table-bordered" id="searched_table">
                            <tr>
                                <th></th>
                                <th>Filter</th>
                                <th>Variants</th>
                            </tr>
                        </table>
                    </div>
                </ul>
            </div><!--/.well -->
            <div class="well sidebar-nav">
                <ul class="nav nav-list">
                    <div class="nav-header"><h4>Narrow Your Search</h4></div>
                    <div class="accordion" id="accordion2">
                        <div class="accordion-group">
                            <div class="accordion-heading">
                                <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseOne">
                                    Sample Filters
                                </a>
                            </div>
                            <div id="collapseOne" class="accordion-body collapse in">
                                <div class="accordion-inner">
                                    <form>
                                        <table id="sample_filter_table">
                                            <tr>
                                                <td><button type="button" class="btn-mini" onclick="addToQuery({name: 'foo', operator: '=', value: 'bar'})"><i class="icon-plus"></i></button></td>
                                                <td>Min Alt Reads</td>
                                                <td><input class="input-mini" type="text" name="min_alt_reads"/></td>
                                            </tr>
                                            <tr>
                                                <td><button type="button" class="btn-mini"><i class="icon-plus"></i></button></td>
                                                <td>Min # Samples</td>
                                                <td><input class="input-mini" type="text" name="min_num_samples"/></td>
                                            </tr>
                                            <tr>
                                                <td><button type="button" class="btn-mini"><i class="icon-plus"></i></button></td>
                                                <td>Max # Samples</td>
                                                <td><input class="input-mini" type="text" name="max_alt_reads"/></td>
                                            </tr>
                                            <tr>
                                                <td><button type="button" class="btn-mini"><i class="icon-plus"></i></button></td>
                                                <td>Min AC</td>
                                                <td><input class="input-mini" type="text" name="min_ac"/></td>
                                            </tr>
                                            <tr>
                                                <td><button type="button" class="btn-mini"><i class="icon-plus"></i></button></td>
                                                <td>Max AC</td>
                                                <td><input class="input-mini" type="text" name="max_ac"/></td>
                                            </tr>
                                            <tr>
                                                <td><button type="button" class="btn-mini"><i class="icon-plus"></i></button></td>
                                                <td>Min Phred</td>
                                                <td><input class="input-mini" type="text" name="min_pred"/></td>
                                            </tr>
                                        </table>
                                    </form>
                                </div>
                            </div>
                        </div>
                        <div class="accordion-group">
                            <div class="accordion-heading">
                                <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseTwo">
                                    INFO Filters [TODO]
                                </a>
                            </div>
                            <div id="collapseTwo" class="accordion-body collapse">
                                <div class="accordion-inner">
                                    <table id="info_filter_table">
                                        <tr></tr>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </ul>
            </div><!--/.well -->
        </div><!--/span-->
        <div class="span9">
            <div class="hero-unit">
                <div class="row-fluid">
                    <div class="span6">
                    </div>
                    <div class="span6">
                        <div class="pull-right">
                            <div id="buttonPlaceholder">
                                <!-- Button to trigger modal -->
                                <a href="#myModal" role="button" class="btn btn-primary" data-toggle="modal">Columns</a>

                                <!-- Modal -->
                                <div id="myModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
                                        <h3 id="myModalLabel">Customize Columns</h3>
                                    </div>
                                    <div class="modal-body">
                                        <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered" id="config_columns_table"></table>
                                    </div>
                                    <div class="modal-footer">
                                        <button class="btn" data-dismiss="modal" aria-hidden="true" id="column_dialog_close">Close</button>
                                        <button class="btn btn-primary" onclick="toggleDisplayColumns()">Apply</button>
                                    </div>
                                </div>                            </div>
                        </div>
                    </div>
                </div>
                <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered" id="variant_table"></table>
            </div>
        </div><!--/span-->
    </div><!--/row-->

    <hr>
</div>
</body>
</html>
